
# TiDB

## 简介



## MySQL到TIDB

### 场景的引入

假如现在有一个告诉发展的互联网公司，核心业务库MySQL的数据已经近亿行，且还在不断增长中，公司对于数据资产较为重视，所有数据要求多副本至少5年，且除了有对历史数据进行统计分析的离线报表业务外，还有一些针对用户数据实时查询的需求，如用户历史订单实时查询。

### 问题分析

#### MySQL是否能满足上述场景需求
根据以往的MySQL使用经验，MySQL单在表5000万以内时，性能较好，单表超过5000万行后，数据库性能、可维护性都会急剧下降。当然这时候可以做MySQL分库分表，如使用Mycat或者sharding-jdbc

##### 分库分表

###### 优点

将大表拆分成小表，单表数据量控制在50000万行以内，使MySQL性能稳定可控。将单张大表拆分成小表后，能水平扩展，通过部署到多台服务器，提升整个集群的QPS、TPS、Latency等数据库服务指标

###### 缺点

分表跨实例后，产生分布式事务管理难题，一旦数据库服务宕机，有事务不一致风险。分表后，对SQL语句有一定性质，对业务方功能需求大打折扣。尤其对于实时报表统计类需求，限制非常之大。事实上，报表大多都是提供给高层领导使用的，其重要性不言而喻。分表后，需要维护的对象呈指数增长（MySQL实例数、需要执行的SQL变更数量等）

### 问题的解决
基于以上核心痛点，我们需要探索新的数据库技术方案来对应业务爆发式增长所带来的挑战，为业务提供更好的数据库服务支撑。调研市场上各大数据库，我们可以考虑选用NewSQL技术来解决，因为NewSQL技术有如下显著特点：
- 无限水平扩展能力
- 分布式强一致性，确保数据 100% 安全
- 完整的分布式事务处理能力与 ACID 特性

而TiDB数据库GitHub的活跃度及社区贡献者方面都可以算得上是国际的开源项目，是NewSQL技术中的代表性产品，所以我们可以选择使用TIDB数据库

### 总结
传统关系型数据库历史比较久，目前RDBMS的代表为Oracle、MySQL、PostgreSQL，在数据库领域也是"辈分"比较高的，其广泛应用在各行各业，RDBMS大多为本地存储或共享存储

但是此类数据库存在着一些问题，如自身容量的限制。随着业务量不断增加，容量渐渐成为瓶颈，此时DBA会通过
https://www.bilibili.com/video/BV1Vk4y1y7S1?p=4&spm_id_from=pageDriver


## 数据库管理技术发展阶段
https://www.bilibili.com/video/BV1Vk4y1y7S1?p=6&spm_id_from=pageDriver
